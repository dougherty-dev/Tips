<?php

/**
 * matriserTest.
 * @author Niklas Dougherty
 */

declare(strict_types=1);

namespace Tips\Tests\Funktioner;

use PHPUnit\Framework\TestCase;
use Tips\Klasser\Preludium;

/**
 * matriserTest.
 */
class matriserTest extends TestCase
{
	/**
	 * Tester fÃ¶r matriser med metoder.
	 */
	public function testMatriser(): void
	{
		new Preludium();

		$odds = [
			[3.3, 3.6, 2.15],
			[2.2, 3.65, 2.55],
			[1.79, 4.35, 4.76],
			[1.74, 3.9, 3.65],
			[1.45, 4.4, 5.4],
			[2.25, 3.25, 3],
			[4.1, 3.45, 1.81],
			[7, 4.75, 1.36],
			[1.48, 4.6, 5.1],
			[1.28, 5.6, 10],
			[1.42, 4.75, 6.5],
			[4.5, 4.1, 1.67],
			[1.33, 5.2, 8.5]
		];

		$sannolikheter = [
			[0.28972487366647953, 0.26558113419427287, 0.4446939921392476],
			[0.40559973853360926, 0.2444710752805316, 0.349929186185859],
			[0.5594265783010788, 0.23020082187561636, 0.21037259982330483],
			[0.5200569925471284, 0.2320254274441035, 0.2479175800087681],
			[0.625757176718462, 0.20621543323676586, 0.16802739004477218],
			[0.4094488188976378, 0.2834645669291339, 0.30708661417322836],
			[0.22453749483108898, 0.26684166052390285, 0.5086208446450081],
			[0.13122080032500508, 0.19337802153158642, 0.6754011781434085],
			[0.6203723291728369, 0.19959805373386927, 0.18002961709329388],
			[0.7371524852569502, 0.16849199663016004, 0.09435551811288963],
			[0.6590181430096052, 0.19701173959445034, 0.1439701173959445],
			[0.20867365597951965, 0.22903206144093624, 0.5622942825795441],
			[0.7080950321206004, 0.1811089216769997, 0.11079604620239984]
		];

		$this->assertEquals(odds_till_sannolikheter($odds), $sannolikheter);

		$streck = [
			[30, 27, 43],
			[44, 27, 29],
			[59, 23, 18],
			[43, 25, 32],
			[70, 17, 13],
			[47, 27, 26],
			[27, 28, 45],
			[18, 21, 61],
			[55, 24, 21],
			[75, 15, 10],
			[69, 19, 12],
			[26, 29, 45],
			[76, 15, 9]
		];

		$streck_sannolikheter = [
			[0.3, 0.27, 0.43],
			[0.44, 0.27, 0.29],
			[0.59, 0.23, 0.18],
			[0.43, 0.25, 0.32],
			[0.7, 0.17, 0.13],
			[0.47, 0.27, 0.26],
			[0.27, 0.28, 0.45],
			[0.18, 0.21, 0.61],
			[0.55, 0.24, 0.21],
			[0.75, 0.15, 0.1],
			[0.69, 0.19, 0.12],
			[0.26, 0.29, 0.45],
			[0.76, 0.15, 0.09]
		];

		$this->assertEquals(streck_till_sannolikheter($streck), $streck_sannolikheter);

		$streckodds = [
			[3.3333333333333335, 3.7037037037037033, 2.3255813953488373],
			[2.272727272727273, 3.7037037037037033, 3.4482758620689657],
			[1.6949152542372883, 4.3478260869565215, 5.555555555555555],
			[2.3255813953488373, 4.0, 3.125],
			[1.4285714285714286, 5.88235294117647, 7.692307692307692],
			[2.127659574468085, 3.7037037037037033, 3.846153846153846],
			[3.7037037037037033, 3.571428571428571, 2.2222222222222223],
			[5.555555555555555, 4.761904761904762, 1.639344262295082],
			[1.8181818181818181, 4.166666666666667, 4.761904761904762],
			[1.3333333333333333, 6.666666666666667, 10.0],
			[1.4492753623188408, 5.2631578947368425, 8.333333333333334],
			[3.846153846153846, 3.4482758620689657, 2.2222222222222223],
			[1.3157894736842106, 6.666666666666667, 11.11111111111111]
		];

		$this->assertEquals(sannolikheter_till_odds($streck_sannolikheter), $streckodds);

		$this->assertEquals(
			formatera_sannolikheter(odds_till_sannolikheter($streckodds)),
			formatera_sannolikheter($streck_sannolikheter)
		);
	}
}
